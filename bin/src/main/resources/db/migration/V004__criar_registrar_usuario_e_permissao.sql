-- Table: public.usuario

-- DROP TABLE public.usuario;

CREATE TABLE public.usuario
(
	id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
	nome character varying(50) NOT NULL COLLATE pg_catalog."default",
	email character varying(50) NOT NULL COLLATE pg_catalog."default",
	senha character varying(150) NOT NULL COLLATE pg_catalog."default",
    CONSTRAINT tb_usuario_pkey PRIMARY KEY (id)
    
)

TABLESPACE pg_default;

-- Table: public.permissao

-- DROP TABLE public.permissao;

CREATE TABLE public.permissao
(
	id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
	descricao character varying(100) NOT NULL COLLATE pg_catalog."default",
    CONSTRAINT tb_permissao_pkey PRIMARY KEY (id)
    
)

TABLESPACE pg_default;

-- Table: public.usuario_permissao

-- DROP TABLE public.usuario_permissao;

CREATE TABLE public.usuario_permissao
(
	id_usuario bigint NOT NULL,
	id_permissao bigint NOT NULL,
    CONSTRAINT tb_usuario_permissao_pkey PRIMARY KEY (id_usuario, id_permissao),
	CONSTRAINT usuario_permissao_idUsuario FOREIGN KEY (id_usuario)
	REFERENCES public.usuario (id) MATCH SIMPLE
	ON UPDATE NO ACTION
	ON DELETE NO ACTION,
	CONSTRAINT usuario_permissao_idPermissao FOREIGN KEY (id_permissao)
	REFERENCES public.permissao (id) MATCH SIMPLE
	ON UPDATE NO ACTION
	ON DELETE NO ACTION
    
)

TABLESPACE pg_default;

  INSERT INTO usuario (nome, email, senha) values ('Administrador', 'minhavirtude@gmail.com', '$2a$10$MDc27YAC4RJdZTzkfN4dLOPNLGkv.BQMX/JSZ0JeryCfH1mn0p/Gq');
  INSERT INTO usuario (nome, email, senha) values ('Pesquisador', 'lourivalmendes@hotmail.com', '$2a$10$MDc27YAC4RJdZTzkfN4dLOPNLGkv.BQMX/JSZ0JeryCfH1mn0p/Gq');

  INSERT INTO permissao (descricao) values ('ROLE_CADASTRAR_CATEGORIA');
  INSERT INTO permissao (descricao) values ('ROLE_REMOVER_CATEGORIA');
  INSERT INTO permissao (descricao) values ('ROLE_PESQUISAR_CATEGORIA');
  INSERT INTO permissao (descricao) values ('ROLE_CADASTRAR_PESSOA');
  INSERT INTO permissao (descricao) values ('ROLE_REMOVER_PESSOA');
  INSERT INTO permissao (descricao) values ('ROLE_PESQUISAR_PESSOA');
  INSERT INTO permissao (descricao) values ('ROLE_CADASTRAR_LANCAMENTO');
  INSERT INTO permissao (descricao) values ('ROLE_REMOVER_LANCAMENTO');
  INSERT INTO permissao (descricao) values ('ROLE_PESQUISAR_LANCAMENTO');

-- Administrador
  INSERT INTO usuario_permissao (id_usuario,id_permissao) values (1,1);
  INSERT INTO usuario_permissao (id_usuario,id_permissao) values (1,2);
  INSERT INTO usuario_permissao (id_usuario,id_permissao) values (1,3);
  INSERT INTO usuario_permissao (id_usuario,id_permissao) values (1,4);
  INSERT INTO usuario_permissao (id_usuario,id_permissao) values (1,5);
  INSERT INTO usuario_permissao (id_usuario,id_permissao) values (1,6);
  INSERT INTO usuario_permissao (id_usuario,id_permissao) values (1,7);
  INSERT INTO usuario_permissao (id_usuario,id_permissao) values (1,8);
  INSERT INTO usuario_permissao (id_usuario,id_permissao) values (1,9);

-- Agente
  INSERT INTO usuario_permissao (id_usuario,id_permissao) values (2,2);
  INSERT INTO usuario_permissao (id_usuario,id_permissao) values (2,5);
  INSERT INTO usuario_permissao (id_usuario,id_permissao) values (2,8);
